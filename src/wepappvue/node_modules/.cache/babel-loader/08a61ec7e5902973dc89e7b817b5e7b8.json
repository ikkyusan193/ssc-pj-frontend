{"remainingRequest":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","mtime":1626993935353},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FETUlOL0Rlc2t0b3Avd2ViYXBwbGljYXRpb25Qcm9qZWN0L3NyYy93ZXBhcHB2dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgQ3J1ZCBmcm9tICcuLi9jb21wb25lbnRzL0NydWQnOwppbXBvcnQgVXNlciBmcm9tICcuLi9jb21wb25lbnRzL1VzZXInOwppbXBvcnQgQ2FycmllciBmcm9tICIuLi9jb21wb25lbnRzL0NhcnJpZXIiOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXgnOwppbXBvcnQgQ2FsZW5kYXIgZnJvbSAnLi4vY29tcG9uZW50cy9DYWxlbmRhcic7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgLy9USElTIERFRklORSBUSEUgU1RBUlRJTkcgUEFHRQogIHBhdGg6ICcvJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAnL0xvZ2luJywKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudDogTG9naW4KfSwgewogIHBhdGg6ICcvQ2xpZW50cycsCiAgbmFtZTogJ0NydWQnLAogIGNvbXBvbmVudDogQ3J1ZAp9LCB7CiAgcGF0aDogJy9Vc2VycycsCiAgbmFtZTogJ1VzZXInLAogIGNvbXBvbmVudDogVXNlcgp9LCB7CiAgcGF0aDogJy9DYXJyaWVycycsCiAgbmFtZTogJ0NhcnJpZXInLAogIGNvbXBvbmVudDogQ2Fycmllcgp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIHJlc3BvbnNlLCBpc0xvZ2dlZEluLCB1c2VyUmFuazsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBWdWUuYXhpb3MuZ2V0KCIvY3VycmVudF91c2VyIik7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goInNldExvZ2dlZEluVXNlciIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgaXNMb2dnZWRJbiA9IHN0b3JlLnN0YXRlLmlzTG9nZ2VkSW47CiAgICAgICAgICAgIHVzZXJSYW5rID0gc3RvcmUuZ2V0dGVycy5nZXRSYW5rOyAvLyBtYWtlIHN1cmUgaWYgdXNlciBpcyBsb2dnZWQsIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBzZWUgbG9naW4gcGFnZQoKICAgICAgICAgICAgY29uc29sZS5sb2coaXNMb2dnZWRJbik7CgogICAgICAgICAgICBpZiAoISh0by5uYW1lID09PSAiTG9naW4iICYmIGlzTG9nZ2VkSW4pKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZygiWW91IGFscmVhZHkgbG9naW4iKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgbmV4dCh7CiAgICAgICAgICAgICAgbmFtZTogIkhvbWUiCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICBpZiAoISh0by5uYW1lICE9PSAiTG9naW4iICYmICFpc0xvZ2dlZEluKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coIlBsZWFzZSBsb2dpbiBmaXJzdCIpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBuZXh0KHsKICAgICAgICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBpZiAoISh0by5uYW1lID09PSAiQ2FycmllciIgJiYgaXNMb2dnZWRJbiAmJiB1c2VyUmFuayA8IDEpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZygiWW91IGFyZSBub3QgYWxsb3dlZCB0byBiZSBoZXJlIik7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICJIb21lIgogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgLy9qdXN0IGdvCiAgICAgICAgICAgIG5leHQoKTsKCiAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/ADMIN/Desktop/webapplicationProject/src/wepappvue/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","Crud","User","Carrier","store","Calendar","use","routes","path","name","component","router","beforeEach","to","from","next","axios","get","response","dispatch","data","isLoggedIn","state","userRank","getters","getRank","console","log"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAGAR,GAAG,CAACS,GAAJ,CAAQR,SAAR;AACA,IAAMS,MAAM,GAAG,CACX;AACI;AACAC,EAAAA,IAAI,EAAE,GAFV;AAGIC,EAAAA,IAAI,EAAE,MAHV;AAIIC,EAAAA,SAAS,EAAEX;AAJf,CADW,EAOX;AACIS,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAEV;AAHf,CAPW,EAYX;AACIQ,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAET;AAHf,CAZW,EAiBX;AACIO,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAER;AAHf,CAjBW,EAsBX;AACIM,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAEP;AAHf,CAtBW,CAAf;AA6BA,IAAMQ,MAAM,GAAG,IAAIb,SAAJ,CAAc;AACzBS,EAAAA,MAAM,EAANA;AADyB,CAAd,CAAf;AAIAI,MAAM,CAACC,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAUC,IAAV,EAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOlB,GAAG,CAACmB,KAAJ,CAAUC,GAAV,CAAc,eAAd,CADP;;AAAA;AACVC,YAAAA,QADU;AAAA;AAAA,mBAERd,KAAK,CAACe,QAAN,CAAe,iBAAf,EAAiCD,QAAQ,CAACE,IAA1C,CAFQ;;AAAA;AAGVC,YAAAA,UAHU,GAGGjB,KAAK,CAACkB,KAAN,CAAYD,UAHf;AAIVE,YAAAA,QAJU,GAICnB,KAAK,CAACoB,OAAN,CAAcC,OAJf,EAKd;;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAYN,UAAZ;;AANc,kBAOXR,EAAE,CAACJ,IAAH,KAAY,OAAZ,IAAuBY,UAPZ;AAAA;AAAA;AAAA;;AAQVK,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AARU,6CASHZ,IAAI,CAAC;AAACN,cAAAA,IAAI,EAAC;AAAN,aAAD,CATD;;AAAA;AAAA,kBAWXI,EAAE,CAACJ,IAAH,KAAY,OAAZ,IAAuB,CAACY,UAXb;AAAA;AAAA;AAAA;;AAYVK,YAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AAZU,6CAaHZ,IAAI,CAAC;AAACN,cAAAA,IAAI,EAAC;AAAN,aAAD,CAbD;;AAAA;AAAA,kBAeXI,EAAE,CAACJ,IAAH,KAAY,SAAZ,IAAyBY,UAAzB,IAAuCE,QAAQ,GAAG,CAfvC;AAAA;AAAA;AAAA;;AAgBVG,YAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AAhBU,6CAiBHZ,IAAI,CAAC;AAACN,cAAAA,IAAI,EAAC;AAAN,aAAD,CAjBD;;AAAA;AAoBV;AACAM,YAAAA,IAAI;;AArBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AA0BA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../components/Home.vue'\r\nimport Login from '../components/Login.vue'\r\nimport Crud from '../components/Crud'\r\nimport User from '../components/User'\r\nimport Carrier from \"../components/Carrier\";\r\nimport store from '../store/index'\r\nimport Calendar from '../components/Calendar'\r\n\r\n\r\nVue.use(VueRouter)\r\nconst routes = [\r\n    {\r\n        //THIS DEFINE THE STARTING PAGE\r\n        path: '/',\r\n        name: 'Home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/Login',\r\n        name: 'Login',\r\n        component: Login\r\n    },\r\n    {\r\n        path: '/Clients',\r\n        name: 'Crud',\r\n        component: Crud\r\n    },\r\n    {\r\n        path: '/Users',\r\n        name: 'User',\r\n        component: User\r\n    },\r\n    {\r\n        path: '/Carriers',\r\n        name: 'Carrier',\r\n        component: Carrier\r\n    },\r\n\r\n]\r\nconst router = new VueRouter({\r\n    routes,\r\n})\r\n\r\nrouter.beforeEach(async (to,from,next)=>{\r\n    let response = await Vue.axios.get(\"/current_user\");\r\n    await store.dispatch(\"setLoggedInUser\",response.data);\r\n    let isLoggedIn = store.state.isLoggedIn;\r\n    let userRank = store.getters.getRank;\r\n    // make sure if user is logged, user will not be able to see login page\r\n    console.log(isLoggedIn)\r\n    if(to.name === \"Login\" && isLoggedIn){\r\n        console.log(\"You already login\")\r\n        return next({name:\"Home\"});\r\n    }\r\n    if(to.name !== \"Login\" && !isLoggedIn){\r\n        console.log(\"Please login first\")\r\n        return next({name:\"Login\"});\r\n    }\r\n    if(to.name === \"Carrier\" && isLoggedIn && userRank < 1){\r\n        console.log(\"You are not allowed to be here\")\r\n        return next({name:\"Home\"});\r\n    }\r\n    else{\r\n        //just go\r\n        next();\r\n    }\r\n});\r\n\r\n\r\nexport default router;"]}]}