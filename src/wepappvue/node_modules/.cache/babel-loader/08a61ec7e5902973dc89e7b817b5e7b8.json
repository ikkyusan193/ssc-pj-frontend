{"remainingRequest":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","mtime":1626915050725},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FETUlOL0Rlc2t0b3Avd2ViYXBwbGljYXRpb25Qcm9qZWN0L3NyYy93ZXBhcHB2dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgQ3J1ZCBmcm9tICcuLi9jb21wb25lbnRzL0NydWQnOwppbXBvcnQgVXNlciBmcm9tICcuLi9jb21wb25lbnRzL1VzZXInOwppbXBvcnQgQ2FycmllciBmcm9tICIuLi9jb21wb25lbnRzL0NhcnJpZXIiOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXgnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIC8vVEhJUyBERUZJTkUgVEhFIFNUQVJUSU5HIFBBR0UKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9Mb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAnL0NsaWVudHMnLAogIG5hbWU6ICdDcnVkJywKICBjb21wb25lbnQ6IENydWQKfSwgewogIHBhdGg6ICcvVXNlcnMnLAogIG5hbWU6ICdVc2VyJywKICBjb21wb25lbnQ6IFVzZXIKfSwgewogIHBhdGg6ICcvQ2FycmllcnMnLAogIG5hbWU6ICdDYXJyaWVyJywKICBjb21wb25lbnQ6IENhcnJpZXIKfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciByZXNwb25zZSwgaXNMb2dnZWRJbjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBWdWUuYXhpb3MuZ2V0KCIvY3VycmVudF91c2VyIik7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goInNldExvZ2dlZEluVXNlciIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgaXNMb2dnZWRJbiA9IHN0b3JlLnN0YXRlLmlzTG9nZ2VkSW47IC8vIG1ha2Ugc3VyZSBpZiB1c2VyIGlzIGxvZ2dlZCwgdXNlciB3aWxsIG5vdCBiZSBhYmxlIHRvIHNlZSBsb2dpbiBwYWdlCgogICAgICAgICAgICBjb25zb2xlLmxvZyhpc0xvZ2dlZEluKTsKCiAgICAgICAgICAgIGlmICghKHRvLm5hbWUgPT09ICJMb2dpbiIgJiYgaXNMb2dnZWRJbikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJZb3UgYWxyZWFkeSBsb2dpbiIpOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBuZXh0KHsKICAgICAgICAgICAgICBuYW1lOiAiSG9tZSIKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGlmICghKHRvLm5hbWUgIT09ICJMb2dpbiIgJiYgIWlzTG9nZ2VkSW4pKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBuZXh0KHsKICAgICAgICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAvLyBqdXN0IGdvCiAgICAgICAgICAgIG5leHQoKTsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHsKICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfTsKfSgpKTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/ADMIN/Desktop/webapplicationProject/src/wepappvue/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","Crud","User","Carrier","store","use","routes","path","name","component","router","beforeEach","to","from","next","axios","get","response","dispatch","data","isLoggedIn","state","console","log"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAGAP,GAAG,CAACQ,GAAJ,CAAQP,SAAR;AACA,IAAMQ,MAAM,GAAG,CACX;AACI;AACAC,EAAAA,IAAI,EAAE,GAFV;AAGIC,EAAAA,IAAI,EAAE,MAHV;AAIIC,EAAAA,SAAS,EAAEV;AAJf,CADW,EAOX;AACIQ,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAET;AAHf,CAPW,EAYX;AACIO,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAER;AAHf,CAZW,EAiBX;AACIM,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAEP;AAHf,CAjBW,EAsBX;AACIK,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAEN;AAHf,CAtBW,CAAf;AA6BA,IAAMO,MAAM,GAAG,IAAIZ,SAAJ,CAAc;AACzBQ,EAAAA,MAAM,EAANA;AADyB,CAAd,CAAf;AAIAI,MAAM,CAACC,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAUC,IAAV,EAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOjB,GAAG,CAACkB,KAAJ,CAAUC,GAAV,CAAc,eAAd,CADP;;AAAA;AACVC,YAAAA,QADU;AAAA;AAAA,mBAERb,KAAK,CAACc,QAAN,CAAe,iBAAf,EAAiCD,QAAQ,CAACE,IAA1C,CAFQ;;AAAA;AAGVC,YAAAA,UAHU,GAGGhB,KAAK,CAACiB,KAAN,CAAYD,UAHf,EAId;;AACAE,YAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;;AALc,kBAMXR,EAAE,CAACJ,IAAH,KAAY,OAAZ,IAAuBY,UANZ;AAAA;AAAA;AAAA;;AAOVE,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAPU,6CAQHT,IAAI,CAAC;AAACN,cAAAA,IAAI,EAAC;AAAN,aAAD,CARD;;AAAA;AAAA,kBAUXI,EAAE,CAACJ,IAAH,KAAY,OAAZ,IAAuB,CAACY,UAVb;AAAA;AAAA;AAAA;;AAAA,6CAWHN,IAAI,CAAC;AAACN,cAAAA,IAAI,EAAC;AAAN,aAAD,CAXD;;AAAA;AAaV;AACAM,YAAAA,IAAI;;AAdM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAmBA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../components/Home.vue'\r\nimport Login from '../components/Login.vue'\r\nimport Crud from '../components/Crud'\r\nimport User from '../components/User'\r\nimport Carrier from \"../components/Carrier\";\r\nimport store from '../store/index'\r\n\r\n\r\nVue.use(VueRouter)\r\nconst routes = [\r\n    {\r\n        //THIS DEFINE THE STARTING PAGE\r\n        path: '/',\r\n        name: 'Home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/Login',\r\n        name: 'Login',\r\n        component: Login\r\n    },\r\n    {\r\n        path: '/Clients',\r\n        name: 'Crud',\r\n        component: Crud\r\n    },\r\n    {\r\n        path: '/Users',\r\n        name: 'User',\r\n        component: User\r\n    },\r\n    {\r\n        path: '/Carriers',\r\n        name: 'Carrier',\r\n        component: Carrier\r\n    },\r\n\r\n]\r\nconst router = new VueRouter({\r\n    routes,\r\n})\r\n\r\nrouter.beforeEach(async (to,from,next)=>{\r\n    let response = await Vue.axios.get(\"/current_user\");\r\n    await store.dispatch(\"setLoggedInUser\",response.data);\r\n    let isLoggedIn = store.state.isLoggedIn;\r\n    // make sure if user is logged, user will not be able to see login page\r\n    console.log(isLoggedIn)\r\n    if(to.name === \"Login\" && isLoggedIn){\r\n        console.log(\"You already login\")\r\n        return next({name:\"Home\"});\r\n    }\r\n    if(to.name !== \"Login\" && !isLoggedIn){\r\n        return next({name:\"Login\"});\r\n    }else{\r\n        // just go\r\n        next();\r\n    }\r\n});\r\n\r\n\r\nexport default router;"]}]}