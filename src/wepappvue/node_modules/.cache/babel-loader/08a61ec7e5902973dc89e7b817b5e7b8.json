{"remainingRequest":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","mtime":1626896405781},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FETUlOL0Rlc2t0b3Avd2ViYXBwbGljYXRpb25Qcm9qZWN0L3NyYy93ZXBhcHB2dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgQ3J1ZCBmcm9tICcuLi9jb21wb25lbnRzL0NydWQnOwppbXBvcnQgVXNlciBmcm9tICcuLi9jb21wb25lbnRzL1VzZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXgnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIC8vVEhJUyBERUZJTkUgVEhFIFNUQVJUSU5HIFBBR0UKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9Mb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAnL0NsaWVudHMnLAogIG5hbWU6ICdDcnVkJywKICBjb21wb25lbnQ6IENydWQKfSwgewogIHBhdGg6ICcvVXNlcnMnLAogIG5hbWU6ICdVc2VyJywKICBjb21wb25lbnQ6IFVzZXIKfSwgewogIHBhdGg6ICcvQ2FycmllcnMnLAogIG5hbWU6ICdDYXJyaWVyJwp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIHJlc3BvbnNlLCBpc0xvZ2dlZEluOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIFZ1ZS5heGlvcy5nZXQoIi9jdXJyZW50X3VzZXIiKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgic2V0TG9nZ2VkSW5Vc2VyIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBpc0xvZ2dlZEluID0gc3RvcmUuc3RhdGUuaXNMb2dnZWRJbjsgLy8gbWFrZSBzdXJlIGlmIHVzZXIgaXMgbG9nZ2VkLCB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gc2VlIGxvZ2luIHBhZ2UKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlzTG9nZ2VkSW4pOwoKICAgICAgICAgICAgaWYgKCEodG8ubmFtZSA9PT0gIkxvZ2luIiAmJiBpc0xvZ2dlZEluKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coIllvdSBhbHJlYWR5IGxvZ2luIik7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICJIb21lIgogICAgICAgICAgICB9KSk7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgaWYgKCEodG8ubmFtZSAhPT0gIkxvZ2luIiAmJiAhaXNMb2dnZWRJbikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIC8vIGp1c3QgZ28KICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/ADMIN/Desktop/webapplicationProject/src/wepappvue/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","Crud","User","store","use","routes","path","name","component","router","beforeEach","to","from","next","axios","get","response","dispatch","data","isLoggedIn","state","console","log"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAGAN,GAAG,CAACO,GAAJ,CAAQN,SAAR;AACA,IAAMO,MAAM,GAAG,CACX;AACI;AACAC,EAAAA,IAAI,EAAE,GAFV;AAGIC,EAAAA,IAAI,EAAE,MAHV;AAIIC,EAAAA,SAAS,EAAET;AAJf,CADW,EAOX;AACIO,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAER;AAHf,CAPW,EAYX;AACIM,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAEP;AAHf,CAZW,EAiBX;AACIK,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAEN;AAHf,CAjBW,EAsBX;AACII,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE;AAFV,CAtBW,CAAf;AA4BA,IAAME,MAAM,GAAG,IAAIX,SAAJ,CAAc;AACzBO,EAAAA,MAAM,EAANA;AADyB,CAAd,CAAf;AAIAI,MAAM,CAACC,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAUC,IAAV,EAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOhB,GAAG,CAACiB,KAAJ,CAAUC,GAAV,CAAc,eAAd,CADP;;AAAA;AACVC,YAAAA,QADU;AAAA;AAAA,mBAERb,KAAK,CAACc,QAAN,CAAe,iBAAf,EAAiCD,QAAQ,CAACE,IAA1C,CAFQ;;AAAA;AAGVC,YAAAA,UAHU,GAGGhB,KAAK,CAACiB,KAAN,CAAYD,UAHf,EAId;;AACAE,YAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;;AALc,kBAMXR,EAAE,CAACJ,IAAH,KAAY,OAAZ,IAAuBY,UANZ;AAAA;AAAA;AAAA;;AAOVE,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAPU,6CAQHT,IAAI,CAAC;AAACN,cAAAA,IAAI,EAAC;AAAN,aAAD,CARD;;AAAA;AAAA,kBAUXI,EAAE,CAACJ,IAAH,KAAY,OAAZ,IAAuB,CAACY,UAVb;AAAA;AAAA;AAAA;;AAAA,6CAWHN,IAAI,CAAC;AAACN,cAAAA,IAAI,EAAC;AAAN,aAAD,CAXD;;AAAA;AAaV;AACAM,YAAAA,IAAI;;AAdM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAmBA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../components/Home.vue'\r\nimport Login from '../components/Login.vue'\r\nimport Crud from '../components/Crud'\r\nimport User from '../components/User'\r\nimport store from '../store/index'\r\n\r\n\r\nVue.use(VueRouter)\r\nconst routes = [\r\n    {\r\n        //THIS DEFINE THE STARTING PAGE\r\n        path: '/',\r\n        name: 'Home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/Login',\r\n        name: 'Login',\r\n        component: Login\r\n    },\r\n    {\r\n        path: '/Clients',\r\n        name: 'Crud',\r\n        component: Crud\r\n    },\r\n    {\r\n        path: '/Users',\r\n        name: 'User',\r\n        component: User\r\n    },\r\n    {\r\n        path: '/Carriers',\r\n        name: 'Carrier',\r\n    },\r\n\r\n]\r\nconst router = new VueRouter({\r\n    routes,\r\n})\r\n\r\nrouter.beforeEach(async (to,from,next)=>{\r\n    let response = await Vue.axios.get(\"/current_user\");\r\n    await store.dispatch(\"setLoggedInUser\",response.data);\r\n    let isLoggedIn = store.state.isLoggedIn;\r\n    // make sure if user is logged, user will not be able to see login page\r\n    console.log(isLoggedIn)\r\n    if(to.name === \"Login\" && isLoggedIn){\r\n        console.log(\"You already login\")\r\n        return next({name:\"Home\"});\r\n    }\r\n    if(to.name !== \"Login\" && !isLoggedIn){\r\n        return next({name:\"Login\"});\r\n    }else{\r\n        // just go\r\n        next();\r\n    }\r\n});\r\n\r\n\r\nexport default router;"]}]}