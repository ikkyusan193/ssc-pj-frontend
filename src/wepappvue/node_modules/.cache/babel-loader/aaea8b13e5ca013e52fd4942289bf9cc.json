{"remainingRequest":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\src\\router\\index.js","mtime":1626892811942},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ADMIN\\Desktop\\webapplicationProject\\src\\wepappvue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FETUlOL0Rlc2t0b3Avd2ViYXBwbGljYXRpb25Qcm9qZWN0L3NyYy93ZXBhcHB2dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgQ3J1ZCBmcm9tICcuLi9jb21wb25lbnRzL0NydWQnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXgnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIC8vVEhJUyBERUZJTkUgVEhFIFNUQVJUSU5HIFBBR0UKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9Mb2dpbicsCiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAnL0NsaWVudHMnLAogIG5hbWU6ICdDcnVkJywKICBjb21wb25lbnQ6IENydWQKfSwgewogIHBhdGg6ICcvQ2FycmllcnMnCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgcmVzcG9uc2UsIGlzTG9nZ2VkSW47CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gVnVlLmF4aW9zLmdldCgiL2FwaS9jdXJyZW50X3VzZXIiKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgic2V0TG9nZ2VkSW5Vc2VyIiwgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBpc0xvZ2dlZEluID0gc3RvcmUuc3RhdGUuaXNMb2dnZWRJbjsgLy8gbWFrZSBzdXJlIGlmIHVzZXIgaXMgbG9nZ2VkLCB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gc2VlIGxvZ2luIHBhZ2UKCiAgICAgICAgICAgIGlmICh0by5uYW1lID09ICJMb2dpbiIgJiYgaXNMb2dnZWRJbikgewogICAgICAgICAgICAgIG5leHQoewogICAgICAgICAgICAgICAgbmFtZTogIkhvbWUiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0by5uYW1lICE9PSAiTG9naW4iICYmICFpc0xvZ2dlZEluKSB7CiAgICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgICBuYW1lOiAiTG9naW4iCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/ADMIN/Desktop/webapplicationProject/src/wepappvue/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","Crud","store","use","routes","path","name","component","router","beforeEach","to","from","next","axios","get","response","dispatch","data","isLoggedIn","state"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAGAL,GAAG,CAACM,GAAJ,CAAQL,SAAR;AACA,IAAMM,MAAM,GAAG,CACX;AACI;AACAC,EAAAA,IAAI,EAAE,GAFV;AAGIC,EAAAA,IAAI,EAAE,MAHV;AAIIC,EAAAA,SAAS,EAAER;AAJf,CADW,EAOX;AACIM,EAAAA,IAAI,EAAE,QADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAEP;AAHf,CAPW,EAYX;AACIK,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAEN;AAHf,CAZW,EAiBX;AACII,EAAAA,IAAI,EAAE;AADV,CAjBW,CAAf;AAsBA,IAAMG,MAAM,GAAG,IAAIV,SAAJ,CAAc;AACzBM,EAAAA,MAAM,EAANA;AADyB,CAAd,CAAf;AAIAI,MAAM,CAACC,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAUC,IAAV,EAAeC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOf,GAAG,CAACgB,KAAJ,CAAUC,GAAV,CAAc,mBAAd,CADP;;AAAA;AACVC,YAAAA,QADU;AAAA;AAAA,mBAERb,KAAK,CAACc,QAAN,CAAe,iBAAf,EAAiCD,QAAQ,CAACE,IAA1C,CAFQ;;AAAA;AAGVC,YAAAA,UAHU,GAGGhB,KAAK,CAACiB,KAAN,CAAYD,UAHf,EAMd;;AACA,gBAAGR,EAAE,CAACJ,IAAH,IAAW,OAAX,IAAsBY,UAAzB,EAAoC;AAChCN,cAAAA,IAAI,CAAC;AAACN,gBAAAA,IAAI,EAAC;AAAN,eAAD,CAAJ;AACH;;AACD,gBAAGI,EAAE,CAACJ,IAAH,KAAY,OAAZ,IAAuB,CAACY,UAA3B,EAAsC;AAClCN,cAAAA,IAAI,CAAC;AAACN,gBAAAA,IAAI,EAAC;AAAN,eAAD,CAAJ;AACH,aAFD,MAEK;AACD;AACAM,cAAAA,IAAI;AACP;;AAfa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAmBA,eAAeJ,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Home from '../components/Home.vue'\r\nimport Login from '../components/Login.vue'\r\nimport Crud from '../components/Crud'\r\nimport store from '../store/index'\r\n\r\n\r\nVue.use(VueRouter)\r\nconst routes = [\r\n    {\r\n        //THIS DEFINE THE STARTING PAGE\r\n        path: '/',\r\n        name: 'Home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/Login',\r\n        name: 'Login',\r\n        component: Login\r\n    },\r\n    {\r\n        path: '/Clients',\r\n        name: 'Crud',\r\n        component: Crud\r\n    },\r\n    {\r\n        path: '/Carriers'\r\n    },\r\n\r\n]\r\nconst router = new VueRouter({\r\n    routes,\r\n})\r\n\r\nrouter.beforeEach(async (to,from,next)=>{\r\n    let response = await Vue.axios.get(\"/api/current_user\");\r\n    await store.dispatch(\"setLoggedInUser\",response.data);\r\n    let isLoggedIn = store.state.isLoggedIn;\r\n\r\n\r\n    // make sure if user is logged, user will not be able to see login page\r\n    if(to.name == \"Login\" && isLoggedIn){\r\n        next({name:\"Home\"});\r\n    }\r\n    if(to.name !== \"Login\" && !isLoggedIn){\r\n        next({name:\"Login\"});\r\n    }else{\r\n        //\r\n        next();\r\n    }\r\n});\r\n\r\n\r\nexport default router;"]}]}